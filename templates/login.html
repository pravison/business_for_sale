{% extends 'main.html' %}
{% load static %}
{% block title%} Login {%endblock title%}
{%block content %}
<main>
    <!-- ======= Contact Section ======= -->
    <section class="contact">

        <div class="container"  data-aos="fade-up">
  
          <div class="row gy-4">

            <div class="col-lg-12" style="align-items: center;">

              <form method="POST" action='{% url 'login' %}' style=" padding: 10px 30px;" >
                <header class="section-header">
                  <p >Login</p>
                </header>

                {% if form.errors or form.non_field_errors %}
                <div class="col-12">
                  {% for field in form %}
                  <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    <p class="small mb-0" style="color: red;">{{ field.errors }}</p>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
                  {% endfor %}
                </div>
                {% endif %}
                {{form.non_field_errors}}

                {% csrf_token %}
                <div class="row gy-4">
                  
    
                  <div class="col-md-6">
                    <input type="text" name="username" class="form-control" placeholder="Your username" required>
                  </div>

                  
                  <div class="col-md-6">
                    <input type="text" name="password" class="form-control" placeholder="Your Password" required>
                  </div>
                
  
                  <div class="col-md-12 text-center">
                    <button type="submit" id="submit" class="btn btn-primary">Login</button>
                  </div>

                  <div class="col-md-12 spinner-border text-center text-primary visually-hidden" id="loading" role="status">
                    <span class="visually-hidden">Loading...</span>
                  </div>
  
                </div>
              </form>
      
  
            </div>
  
          </div>
  
        </div>
  
      </section><!-- End Contact Section -->
</main>
<script type="text/javascript">
  
  document.getElementById('submit').addEventListener('click', function(e){
    document.getElementById('submit').classList.add("visually-hidden");
    document.getElementById('loading').classList.remove("visually-hidden");
    document.getElementById('loadingText').classList.remove("visually-hidden");
    })
</script>

{%endblock%}